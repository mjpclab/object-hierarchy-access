!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r=r||self).ObjectHierarchyAccess={})}(this,function(r){"use strict";function c(n){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n).filter(function(r){var e=Object.getOwnPropertyDescriptor(n,r);return e&&e.enumerable});e.length&&r.push.apply(r,e)}return r}function i(r){return Array.isArray(r)||r instanceof Array?[]:"object"==typeof r?{}:r}function y(r,e){var n=e.name,t=e.getName;return n!==undefined?n:t&&t.call(r,r)||"undefined"}function l(r,e){var n=e.names,t=e.getNames;if(n!==undefined)return Array.isArray(n)?n:[n];if(t){var a=t.call(r,r);if(a!==undefined)return Array.isArray(a)?a:[a]}return c(r)}function t(r,e,s){var h=r;return e.forEach(function(r){var e=function v(r){return"object"==typeof r?r:"function"==typeof r?{getName:r,value:{}}:{name:r,value:{}}}(r),n=e.value,t=e.type,a=e.create,o=e.override,u=e.created,c=e.skipped,f=e.got,i=y(h,e);if(s||o||!h[i]||"object"!=typeof h[i]){var l=n||(t?new t:a?a.call(h,h,i):{});h[i]=l,u&&u.call(h,h,i,l)}else c&&c.call(h,h,i,h[i]);var p=h;h=h[i],f&&f.call(p,p,i,h)}),h}function p(r,e){return t(r,e)}function a(r,e){var n=t(r,e.slice(0,-1));return{current:n,last:t(n,e.slice(-1),!0)}}function v(r){var e=r[r.length-1],n=Array.prototype.concat.apply([],r.slice(0,-1));return{hierarchies:n.slice(0,-1),prop:n[n.length-1],value:e}}function o(r){return Array.prototype.concat.apply([],r)}function s(r){return"object"==typeof r?r:"function"==typeof r?{getName:r}:{name:r}}function h(r){var e=r[r.length-1];return{hierarchies:Array.prototype.concat.apply([],r.slice(0,-1)),callback:e}}function d(r){return Array.isArray(r)?{names:r}:"object"==typeof r?r:"function"==typeof r?{getNames:r}:{names:r}}r.set=function f(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=v(e),a=t.hierarchies,o=t.prop,u=t.value,c=r||{};return p(c,a)[o]=u,c},r.assign=function g(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=v(e),a=t.hierarchies,o=t.prop,u=t.value,c=p(r,a);return c[o]=u,c},r.put=function b(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=v(e),a=t.hierarchies,o=t.prop,u=t.value;return p(r,a)[o]=u},r.setIfUndef=function m(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=v(e),a=t.hierarchies,o=t.prop,u=t.value,c=r||{},f=p(c,a);return f[o]===undefined&&(f[o]=u),c},r.assignIfUndef=function A(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=v(e),a=t.hierarchies,o=t.prop,u=t.value,c=p(r,a);return c[o]===undefined&&(c[o]=u),c},r.putIfUndef=function j(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=v(e),a=t.hierarchies,o=t.prop,u=t.value,c=p(r,a);return c[o]===undefined&&(c[o]=u),c[o]},r.setProp=function u(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=r||{};return a(t,o(e)),t},r.assignProp=function P(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(r,o(e)).current},r.putProp=function O(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(r,o(e)).last},r.setPropIfUndef=function k(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=r||{};return p(t,o(e)),t},r.assignPropIfUndef=function I(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=o(e),a=p(r,t.slice(0,-1));return p(a,t.slice(-1)),a},r.putPropIfUndef=function U(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return p(r,o(e))},r.get=function N(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=Array.prototype.concat.apply([],e),o=r;return o!==undefined&&null!==o&&t.every(function(r){var e=s(r),n=e.got,t=y(o,e),a=o;return o=o[t],n&&n.call(a,a,t,o),o}),o},r.traverse=function w(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=h(e),a=t.hierarchies,o=t.callback,u=r;u!==undefined&&null!==u&&a.every(function(r){var e=s(r),n=e.got,t=y(u,e),a=u;return u=u[t],n&&n.call(a,a,t,u),!1!==o.call(a,a,t,u)})},r.traverseReverse=function E(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=h(e),a=t.hierarchies,o=t.callback,u=r;if(u!==undefined&&null!==u){var c=[];a.every(function(r){var e=s(r),n=e.got,t=y(u,e),a=u;return u=u[t],n&&n.call(a,a,t,u),c.push({parent:a,name:t,current:u}),u});for(var f=c.length-1;0<=f;f--){var i=c[f];if(!1===o.call(i.parent,i.parent,i.name,i.current))break}}},r.select=function x(r){for(var e,n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return r!==undefined&&null!==r&&function f(n,t,a,o){var r=d(a[o]),u=r.got,e=l(n,r),c=a.length-1;e.forEach(function(r){if(r in n){var e=n[r];u&&u.call(n,n,r,e),t[r]=o<c?i(e):e,o<c&&t!==undefined&&"object"==typeof e&&f(e,t[r],a,o+1)}})}(r,e=i(r),n,0),e},r.pick=function S(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var t=[];return r!==undefined&&null!==r&&function f(n,t,a,o){var r=d(a[o]),u=r.got,e=l(n,r),c=a.length-1;e.forEach(function(r){if(r in n){var e=n[r];u&&u.call(n,n,r,e),o<c?f(e,t,a,o+1):t.push(e)}})}(r,t,e,0),t},r.group=function e(t,a){var o=Array.isArray(t)||t instanceof Array,u={};return c(t).forEach(function(r){var e=t[r],n=a.call(t,t,r,e);u[n]||(u[n]=i(t)),o?u[n].push(e):u[n][r]=e}),u},Object.defineProperty(r,"__esModule",{value:!0})});
