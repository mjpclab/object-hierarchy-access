!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self)["object-hierarchy-access"]={})}(this,function(e){"use strict";function i(e){var n=e[e.length-1],r=Array.prototype.concat.apply([],e.slice(0,-1));return{hierarchies:r.slice(0,-1),prop:r[r.length-1],value:n}}function l(e,n){var c=e;return n.forEach(function(e){var n,r,t,a;if(e&&"object"==typeof e?(n=e.name,r=e.value,t=e.type,a=e.create):(n=e,r={}),!c[n]||"object"!=typeof c[n]){var o=r||(t?new t:a?a.call(c,c,n):{});c[n]=o}c=c[n]}),c}function a(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=i(n),a=t.hierarchies,o=t.prop,c=t.value,f=l(e,a);return f[o]=c,f}function o(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=i(n),a=t.hierarchies,o=t.prop,c=t.value,f=l(e,a);return f[o]===undefined&&(f[o]=c),f}e.set=function c(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=e||{};return a.apply(void 0,[t].concat(n)),t},e.assign=a,e.setIfUndef=function f(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=e||{};return o.apply(void 0,[t].concat(n)),t},e.assignIfUndef=o,e.get=function u(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=Array.prototype.concat.apply([],n),a=e;return a!==undefined&&null!==a&&t.every(function(e){var n,r;"object"==typeof e?(n=e.name?e.name:e.getName?e.getName.call(a,a):"undefined",r=e.got):n="function"==typeof e?e.call(a,a):e;var t=a;return a=a[n],r&&r.call(t,t,n,a),a}),a},e.traverse=function p(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=function f(e){var n=e[e.length-1];return{hierarchies:Array.prototype.concat.apply([],e.slice(0,-1)),callback:n}}(n),a=t.hierarchies,o=t.callback,c=e;c!==undefined&&null!==c&&a.every(function(e){var n="function"==typeof e?e.call(c,c):e,r=c;return c=c[n],o.call(r,r,n,c),c})},Object.defineProperty(e,"__esModule",{value:!0})});
