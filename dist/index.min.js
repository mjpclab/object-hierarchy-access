!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).ObjectHierarchyAccess={})}(this,function(e){"use strict";function i(e,r){var p=e;return r.forEach(function(e){var r,n,t,a,o,c,f,u;if(e&&"object"==typeof e?(r=e.name,n=e.value,t=e.type,a=e.create,o=e.override,c=e.created,f=e.skipped,u=e.got):(r=e,n={}),o||!p[r]||"object"!=typeof p[r]){var i=n||(t?new t:a?a.call(p,p,r):{});p[r]=i,c&&c.call(p,p,r,i)}else f&&f.call(p,p,r,p[r]);var l=p;p=p[r],u&&u.call(l,l,r,p)}),p}function a(e,r){var n=i(e,r.slice(0,-1)),t=r[r.length-1];return n["object"==typeof t?t.name:t]=undefined,{current:n,last:i(n,[t])}}function l(e){var r=e[e.length-1],n=Array.prototype.concat.apply([],e.slice(0,-1));return{hierarchies:n.slice(0,-1),prop:n[n.length-1],value:r}}function o(e){return Array.prototype.concat.apply([],e)}function p(e){var r=e[e.length-1];return{hierarchies:Array.prototype.concat.apply([],e.slice(0,-1)),callback:r}}e.set=function u(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=l(r),a=t.hierarchies,o=t.prop,c=t.value,f=e||{};return i(f,a)[o]=c,f},e.assign=function v(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=l(r),a=t.hierarchies,o=t.prop,c=t.value,f=i(e,a);return f[o]=c,f},e.put=function f(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=l(r),a=t.hierarchies,o=t.prop,c=t.value;return i(e,a)[o]=c},e.setIfUndef=function s(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=l(r),a=t.hierarchies,o=t.prop,c=t.value,f=e||{},u=i(f,a);return u[o]===undefined&&(u[o]=c),f},e.assignIfUndef=function h(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=l(r),a=t.hierarchies,o=t.prop,c=t.value,f=i(e,a);return f[o]===undefined&&(f[o]=c),f},e.putIfUndef=function d(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=l(r),a=t.hierarchies,o=t.prop,c=t.value,f=i(e,a);return f[o]===undefined&&(f[o]=c),f[o]},e.setProp=function c(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=e||{};return a(t,o(r)),t},e.assignProp=function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return a(e,o(r)).current},e.putProp=function g(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return a(e,o(r)).last},e.setPropIfUndef=function y(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=e||{};return i(t,o(r)),t},e.assignPropIfUndef=function b(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=o(r),a=i(e,t.slice(0,-1));return i(a,t.slice(-1)),a},e.putPropIfUndef=function m(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return i(e,o(r))},e.get=function j(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=Array.prototype.concat.apply([],r),a=e;return a!==undefined&&null!==a&&t.every(function(e){var r,n;"object"==typeof e?(r=e.name?e.name:e.getName?e.getName.call(a,a):"undefined",n=e.got):r="function"==typeof e?e.call(a,a):e;var t=a;return a=a[r],n&&n.call(t,t,r,a),a}),a},e.traverse=function P(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=p(r),a=t.hierarchies,o=t.callback,c=e;c!==undefined&&null!==c&&a.every(function(e){var r="function"==typeof e?e.call(c,c):e,n=c;return c=c[r],!1!==o.call(n,n,r,c)})},e.traverseReverse=function I(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=p(r),a=t.hierarchies,o=t.callback,c=e;if(c!==undefined&&null!==c){var f=[];a.every(function(e){var r="function"==typeof e?e.call(c,c):e,n=c;return c=c[r],f.push({parent:n,name:r,current:c}),c});for(var u=f.length-1;0<=u;u--){var i=f[u];if(!1===o.call(i.parent,i.parent,i.name,i.current))break}}},Object.defineProperty(e,"__esModule",{value:!0})});
